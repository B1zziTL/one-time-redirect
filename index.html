<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>One-Time Redirect</title>
</head>
<body>
  <p id="message">Redirecting you securely...</p>

  <script type="module">
    import { scrtLink } from "https://scrt.link/api/v1/client-module";

    const API_KEY = "ak_FWfDgcKCZyTDmGzCkMKtwrlFwo12VUHDnMO6N8KFwrPCn1QfPEnDgiFZwqHCk8Ks";
    const TARGET_URL = "https://www.flexiquiz.com/SC/N/8e9790e3-ae28-46ef-9d08-a62e712f90fc";

    const client = scrtLink(API_KEY);

    try {
      const result = await client.createSecret(TARGET_URL, {
        secretType: "redirect",
        expiresIn: 86400000, // 1 day
        views: 1
      });

      window.location.href = result.url;
    } catch (error) {
      document.getElementById("message").textContent =
        "Error generating redirect. Please try again later.";
      console.error(error);
    }
  </script>
</body>
</html>
