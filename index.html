<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Test scrt.link</title>
</head>
<body>
  <p id="message">Creating one-time link...</p>
  <p id="output" style="word-break: break-all;"></p>

  <script type="module">
    import { scrtLink } from "https://scrt.link/api/v1/client-module";

    const API_KEY = "ak_FWfDgcKCZyTDmGzCkMKtwrlFwo12VUHDnMO6N8KFwrPCn1QfPEnDgiFZwqHCk8Ks";
    const TARGET_URL = "https://www.flexiquiz.com/SC/N/8e9790e3-ae28-46ef-9d08-a62e712f90fc";

    const client = scrtLink(API_KEY);

    try {
      const result = await client.createSecret(TARGET_URL, {
        secretType: "redirect",
        expiresIn: 86400000,
        views: 1
      });

      document.getElementById("message").textContent = "One-time link created!";
      document.getElementById("output").innerHTML = `<a href="${result.url}" target="_blank">${result.url}</a>`;
      console.log(result);
    } catch (error) {
      document.getElementById("message").textContent = "‚ùå Failed to create link.";
      console.error(error);
    }
  </script>
</body>
</html>
